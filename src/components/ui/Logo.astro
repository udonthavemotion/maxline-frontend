---
import { getSiteLogo } from '@/lib/strapi';

interface Props {
  size?: 'sm' | 'md' | 'lg' | 'xl';
  animated?: boolean;
  className?: string;
  priority?: boolean;
}

const { 
  size = 'md', 
  animated = true, 
  className = '', 
  priority = false 
} = Astro.props;

const sizeClasses = {
  sm: 'max-h-10',
  md: 'max-h-12', 
  lg: 'max-h-16',
  xl: 'max-h-20'
};

const animationClasses = animated 
  ? 'transition-all duration-500 hover:scale-110 hover:drop-shadow-lg hover:brightness-105 will-change-transform' 
  : '';

// Get logo from Strapi using the centralized helper
const { url: logoUrl, alt: altText } = await getSiteLogo();
---

<style>
  .logo-glow:hover {
    filter: drop-shadow(0 0 8px rgba(234, 88, 12, 0.3));
  }
  
  .logo-enhanced {
    will-change: transform;
  }
</style>

<img 
  src={logoUrl}
  alt={altText}
  class={`w-auto object-contain logo-enhanced logo-glow ${sizeClasses[size]} ${animationClasses} ${className}`}
  loading={priority ? "eager" : "lazy"}
  decoding="async"
/> 